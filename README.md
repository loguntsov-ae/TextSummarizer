# 🧠 Text Summarizer — микросервисная система на FastAPI, Redis и WebSockets

Проект демонстрирует **микросервисную архитектуру на Python**, где запросы на суммаризацию текста распределяются через брокер сообщений Redis, обрабатываются асинхронным воркером (HuggingFace или OpenAI), а результат отображается в браузере **в реальном времени** с помощью WebSocket.

---

## 🚀 Основная идея

Ты вводишь текст на веб-странице →  
📤 API Gateway кладёт задачу в очередь Redis →  
⚙️ Worker получает задачу и обращается к ML-модели (OpenAI / Hugging Face) →  
📩 Результат возвращается через Redis →  
🌐 Gateway обновляет базу и уведомляет всех клиентов по WebSocket.  

На странице отображается история всех задач, их статус и итоговое summary — обновления происходят без перезагрузки страницы.

---

## 🏗️ Архитектура

                ┌──────────────────────────┐
                │        Browser UI        │
                │  HTML + JS + WebSocket   │
                └──────────┬───────────────┘
                           │ WS / HTTP
                           ▼
             ┌──────────────────────────┐
             │     API Gateway (FastAPI)│
             │  /summarize /tasks /ws    │
             │  SQLite + SQLAlchemy      │
             └──────────┬────────────────┘
                        │ Redis Pub/Sub
                        ▼
             ┌──────────────────────────┐
             │        Redis Broker      │
             │ channels: tasks/results  │
             └──────────┬────────────────┘
                        │
                        ▼
             ┌──────────────────────────┐
             │         Worker           │
             │   Uses ModelRepository   │
             │ (OpenAI / HuggingFace)   │
             └──────────────────────────┘

---

## 🧩 Компоненты

| Сервис | Назначение |
|:--------|:-----------|
| **api-gateway** | HTTP-API, WebSocket-сервис, хранение задач в SQLite, веб-интерфейс |
| **worker** | Асинхронная обработка задач, запрос к ML-модели |
| **redis** | Брокер сообщений (Pub/Sub) |
| **database (SQLite/Postgres)** | Хранит историю задач |

---

## 🛠️ Технологии

- 🐍 **Python 3.11**
- ⚡ **FastAPI**
- 💾 **Redis (asyncio)**
- 🧱 **SQLAlchemy**
- 📦 **Pydantic 2 + pydantic-settings**
- 🌐 **Uvicorn + uv**
- 🔌 **WebSockets**
- 🧰 **Docker / Docker Compose**
- 🎨 **Jinja2 templates (UI)**
- 🧠 **OpenAI API / HuggingFace API**

---

## 🚀 Развёртывание и запуск

### 📋 Предварительные требования
- Установлены **Docker** и **Docker Compose**
- Открытые порты: **8000** (API/UI) и **6379** (Redis)

#### ⚙️ Настройка окружения

Создай файл .env в корне проекта и добавь переменные
